webpackJsonp([59],{HWcy:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("mvHQ"),i=o.n(s),a={components:{loading:o("T4ej").a},data:function(){return{modal11:!1,model1:"",doctorList:[],depList:[],content:"",isshowloading:!1}},methods:{qingkong:function(){this.model1="",this.docList("")},tobackdetail:function(){this.$router.push("/admin")},goaddDoctor:function(t,e){0==e&&localStorage.setItem("docinforItem",i()(t)),this.$router.push("/addDoctor?start="+e)},jiankai:function(t){this.modal11=!0,void 0!=this.doctorList[t].expertJob?this.content=this.doctorList[t].expertJob:this.content="无"},_dealdata:function(t){for(var e=[],o=[],s=[],i=[],a=0;a<t.length;a++)"100101"==t[a].deptCode.substring(0,6)?e.push(t[a]):"100102"==t[a].deptCode.substring(0,6)?o.push(t[a]):"100103"==t[a].deptCode.substring(0,6)?s.push(t[a]):i.push(t[a]);var n=[];n.push({deptName:"妇科门诊",gynaecology:e,deptCode:"100101"}),n.push({deptName:"产科门诊",obstetrics:o,deptCode:"100102"}),n.push({deptName:"儿科门诊",pediatrics:s,deptCode:"100103"});for(var d=0;d<i.length;d++)"皮肤科"==i[d].deptName&&n.push({deptName:"皮肤科",deptCode:i[d].deptCode});for(var l=0;l<i.length;l++){var r,c;if(r=i[l].deptName,c=i[l].deptCode,"皮肤科"!=r){var p={deptName:r,deptCode:c};n.push(p)}}for(a=0;a<n.length;a++){var u={label:n[a].deptName,value:n[a].deptCode};this.depList.push(u)}},DeptInfoList:function(){var t=this,e=t.$store.getters.getUrl+"admin/dept/getDeptInfoList.do";t.isshowloading=!0,$.ajax({url:e,type:"post",dataType:"json",timeout:15e3,data:"",success:function(e){t.isshowloading=!1,"200"==e.code&&t._dealdata(e.data)},error:function(e){t.isshowloading=!1}})},docList:function(t){var e,o=this,s=o.$store.getters.getUrl+"admin/doctor/getDoctorInfoList.do";e=void 0!=t?t.value:"",o.isshowloading=!0,$.ajax({url:s,type:"post",dataType:"json",timeout:15e3,data:{deptCode:e},success:function(t){o.isshowloading=!1,200==t.code&&(o.doctorList=t.data)},error:function(t){o.isshowloading=!1}})}},mounted:function(){void 0!=localStorage.getItem("Administrator")&&""!=localStorage.getItem("Administrator")&&(this.Administrator=JSON.parse(localStorage.getItem("Administrator")),this.Administrator.adminLevel>1?(this.docList({value:this.Administrator.deptCode}),document.getElementsByClassName("a")[0].style.display="none"):this.docList());this.DeptInfoList()}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{height:"100%",overflow:"auto"}},[s("div",{staticClass:"titlei"},[s("div",{staticClass:"title",staticStyle:{position:"relative"}},[s("div",{staticClass:"arrow-icon",on:{click:t.tobackdetail}},[s("Icon",{attrs:{size:"30",type:"ios-arrow-back"}})],1),t._v("\n        医生管理\n      ")]),t._v(" "),s("div",{staticClass:"xuanze",staticStyle:{position:"relative"}},[s("div",{staticStyle:{display:"inline-block",width:"100%"}},[s("span",{staticStyle:{color:"rgb(0, 187, 187)","font-size":"20px"},on:{click:t.qingkong}},[t._v("全部医生")]),t._v(" "),s("Select",{staticClass:"a",staticStyle:{border:"0",position:"absolute",right:"5%",top:"7px",width:"30%"},attrs:{"label-in-value":!0,placeholder:"选择科室"},on:{"on-change":t.docList},model:{value:t.model1,callback:function(e){t.model1=e},expression:"model1"}},t._l(t.depList,function(e){return s("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)])]),t._v(" "),s("div",{staticClass:"content"},t._l(t.doctorList,function(e,i){return s("div",{key:i,staticClass:"contenter"},[s("div",{staticClass:"doctor"},[s("img",{staticClass:"avatar",attrs:{src:o("HfaK"),alt:"",width:"40px;"}}),t._v(" "),s("div",{staticClass:"xinxi"},[s("p",[s("span",[t._v("医生姓名：")]),s("span",[t._v(t._s(e.name))])]),t._v(" "),s("p",[s("span",[t._v("医生职称：")]),s("span",[t._v(t._s(e.job))])])])]),t._v(" "),s("div",{staticClass:"operate"},[s("Button",{attrs:{type:"success",size:"small"},on:{click:function(o){return t.goaddDoctor(e,0)}}},[t._v("修改")]),t._v(" "),s("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.jiankai(i)}}},[t._v("查看")])],1)])}),0),t._v(" "),s("Modal",{attrs:{fullscreen:"",title:"医生简介"},model:{value:t.modal11,callback:function(e){t.modal11=e},expression:"modal11"}},[s("div",{staticStyle:{"text-indent":"24pt","font-size":"16px"}},[t._v("\n         "+t._s(t.content)+"\n        ")])]),t._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:t.isshowloading,expression:"isshowloading"}],staticClass:"loading"})],1)},staticRenderFns:[]};var d=o("VU/8")(a,n,!1,function(t){o("zx9F")},"data-v-46b8a496",null);e.default=d.exports},zx9F:function(t,e){}});