webpackJsonp([47],{MUV4:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("pFYg"),i=a.n(s),n=a("Xxa5"),o=a.n(n),r=a("mvHQ"),c=a.n(r),l=a("exGp"),u=a.n(l),d=a("3e82"),v=a("T4ej"),f=a("uGJ5"),p={components:{loading:v.a},data:function(){return{failurepatientlist:[],seekedpatientlist:[],tabstatu:!1,active:!0,switchcotroll:!1,infomodel:!1,infomsg:"",isShowLoading:!1,yscode:!0,visitstatus:!1,statemodel:!1}},mounted:function(){var t=this;this.isShowLoading=!0,setTimeout(function(){t.fetchfailurepatientlist();var e=t.$store.getters.getUrl+"SweepCode.do";Object(f.a)(e)},10)},methods:{tobackdetail:function(){this.$router.push("/Personalcenter")},ischangestate:function(){this.statemodel=!0},changestate:function(){this.visitstatus=!this.visitstatus,1==this.visitstatus&&this.$router.push("/Myaccount")},todetail:function(t,e){var a=this;return u()(o.a.mark(function e(){var s,i,n,r,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=a,{},i=void 0,n=a.$store.getters.getUrl+"check/getOpenid.do","1"!=(r=Object(d.c)(n,t.patientid,s)).status){e.next=9;break}i=r.data,e.next=16;break;case 9:if("0"!=r.status){e.next=13;break}i=0,e.next=16;break;case 13:return a.infomodel=!0,a.infomsg="openid查询异常",e.abrupt("return");case 16:t.openid=i,void 0!=(l=c()(t))&&null!=l&&""!=l&&(localStorage.setItem("yspatientinfo",l),a.$router.push("/detail"));case 19:case"end":return e.stop()}},e,a)}))()},changetabstatu:function(t){t!=this.tabstatu&&(t&&this.$router.push("/Historicpatients"),this.tabstatu=!this.tabstatu)},hasunpatient:function(t){for(var e=!0,a=0;a<t.length;a++)"1"==t[a].status&&(e=!1);return e},fetchseekedpatientlist:function(){var t=this;return u()(o.a.mark(function e(){var a,s,n,r,c,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(a=t).$store.getters.getUrl+"doctorPatient/seekedDoctor.do",n=localStorage.getItem("ysdoccode"),r="%",e.next=6,Object(d.d)(s,r,n);case 6:if(c=e.sent,a.isShowLoading=!1,"object"==(void 0===c?"undefined":i()(c))){if("1"==c.status)for(l=0;l<c.data.length;l++)t.seekedpatientlist.push(c.data[l]);"-1"==c.status&&(t.infomsg="查询待就诊患者信息异常！",t.infomodel=!0)}5==c&&(t.infomsg="请求发送失败！",t.infomodel=!0);case 10:case"end":return e.stop()}},e,t)}))()},fetchfailurepatientlist:function(){var t=this;return u()(o.a.mark(function e(){var a,s,n,r,c,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(a=t).$store.getters.getUrl+"doctorPatient/failureDoctor.do",n=localStorage.getItem("ysdoccode"),r="%",e.next=6,Object(d.d)(s,r,n);case 6:if(c=e.sent,a.isShowLoading=!1,"object"==(void 0===c?"undefined":i()(c))){if("1"==c.status)for(t.tabstatu=!1,l=0;l<c.data.length;l++)t.failurepatientlist.push(c.data[l]);"-1"==c.status&&(t.infomsg="查询待就诊患者信息异常！",t.infomodel=!0)}5==c&&(t.infomsg="请求发送失败！",t.infomodel=!0);case 10:case"end":return e.stop()}},e,t)}))()},goPersonalcenter:function(){this.$router.push("/Personalcenter")}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"registeredlistpage"},[s("div",{staticClass:"title"},[s("div",{staticClass:"arrow-icon",on:{click:t.tobackdetail}},[s("Icon",{attrs:{size:"30",type:"ios-arrow-back"}})],1),t._v(" "),t._v("\n    挂号患者列表\n    ")]),t._v(" "),s("div",{staticClass:"btn-warapper"},[s("div",{class:{active:!t.tabstatu,disactive:t.tabstatu},on:{click:function(e){return t.changetabstatu(!1)}}},[t._v("待就诊")]),t._v(" "),s("div",{class:{active:t.tabstatu,disactive:!t.tabstatu},on:{click:function(e){return t.changetabstatu(!0)}}},[t._v("已就诊")])]),t._v(" "),t.tabstatu?s("div",{staticClass:"list-wrapper"},t._l(t.seekedpatientlist,function(e,i){return s("div",{key:i,staticClass:"list-item",on:{click:function(a){return t.todetail(e,5)}}},[s("div",{staticClass:"patient-info"},[s("img",{staticClass:"avatar",attrs:{src:a("/1rS"),width:"50",alt:""}}),t._v(" "),s("span",{staticClass:"item-name"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"sky"}),t._v(" "),s("span",[t._v(" ")]),t._v(" "),s("span",{staticClass:"item-name"},[t._v(t._s(e.starttime))])])])}),0):t._e(),t._v(" "),t.tabstatu?t._e():s("div",{staticClass:"list-wrapper"},t._l(t.failurepatientlist,function(e,i){return s("div",{key:i,staticClass:"list-item",on:{click:function(a){return t.todetail(e,1)}}},[s("div",{staticClass:"patient-info"},[s("img",{staticClass:"avatar",attrs:{src:a("/1rS"),width:"50",alt:""}}),t._v(" "),s("span",{staticClass:"item-name"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"sky"}),t._v(" "),s("span",[t._v(" ")]),t._v(" "),s("span",{staticClass:"item-name"},[t._v(t._s(e.starttime))])])])}),0),t._v(" "),s("Modal",{attrs:{title:"提示"},model:{value:t.infomodel,callback:function(e){t.infomodel=e},expression:"infomodel"}},[s("p",[t._v(t._s(t.infomsg))])]),t._v(" "),s("Modal",{attrs:{title:"挂号提示信息"},on:{"on-ok":t.changestate},model:{value:t.statemodel,callback:function(e){t.statemodel=e},expression:"statemodel"}},[s("p",[t._v("请确认是否切换！")])]),t._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:t.isShowLoading,expression:"isShowLoading"}]})],1)},staticRenderFns:[]};var m=a("VU/8")(p,h,!1,function(t){a("bfSj")},"data-v-5abaeadf",null);e.default=m.exports},bfSj:function(t,e){}});