webpackJsonp([63],{NrKf:function(t,e){},Ofdd:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("//Fk"),i=a.n(s),n=a("+n8h"),o=a("HywI"),r=a("T4ej"),l=a("uGJ5"),c=new Date;c.getFullYear();if(c.getMonth()+1<10)c.getMonth();else c.getMonth();if(c.getDate()<10)c.getDate();else c.getDate();var u={components:{tabbar:n.a,pullRefresh:o.a,loading:r.a},data:function(){return{erromodal:!1,errormsg:"",prescription:[],drugList:[],value3:"0",cardno:[],model1:"",cityList:[],cardlist:[],modal11:!1,value1:"",isshowloading:!1,model2:"",TestdeList:[],size:10}},methods:{tobackdetail:function(){this.$router.push("/doctorckeck")},incisionTime:function(t){return/\d{4}-\d{1,2}-\d{1,2}/g.exec(t)[0]},incisionTimess:function(t){return/\d{4}-\d{1,2}/g.exec(t)[0]},datatime:function(t){var e=t,a=this.p(e.getFullYear()),s=this.p(e.getMonth()+1);this.p(e.getDate());return a+"-"+s},formatDates:function(t){var e=t.getFullYear(),a=t.getMonth()+1,s=t.getDate();t.getHours(),t.getMinutes(),t.getSeconds();return e+"-"+a+"-"+s},p:function(t){return t<10?"0"+t:t},refresh:function(){var t=this;return new i.a(function(e,a){setTimeout(function(){t.examineList(),e()},2e3)})},datatrans:function(t){var e=new Date(t),a=e.getFullYear(),s=e.getMonth()+1,i=e.getDate(),n=e.getHours(),o=e.getMinutes();s<10&&(s="0"+s),i<10&&(i="0"+i),n<10&&(n="0"+n),o<10&&(o="0"+o);var r=a+"-"+s+"-"+i+"- "+n+":"+o;return"NaN-NaN-NaN- NaN:NaN"!==r?r:""},selectcard:function(t){this.examineList(t)},qingkong:function(){""!=this.value1&&null!=this.value1&&(this.value1="",this.examineList())},shaixuan:function(){null==this.value1?(this.value1="",this.size=10):this.value1=this.datatime(this.value1),this.examineList()},examineList:function(){var t=this,e=t.$store.getters.getUrl+"chemicalexam/getAssayResultTakeNotes.do",a=JSON.parse(localStorage.getItem("yspatientinfo")).patientid,s=t.value1,i=t.size;t.isshowloading=!0;var n=$.ajax({url:e,type:"post",dataType:"json",timeout:15e3,data:{cardno:a,requestime:s,size:i},success:function(e){t.isshowloading=!1,t.prescription=[];t.isshowloading=!1,1==e.status?t.prescription=e.data:"0"!=e.status&&(t.errormsg="查询数据失败！",t.erromodal=!0)},error:function(e){t.isshowloading=!1,t.errormsg="请求发送失败！",t.erromodal=!0},complete:function(e,a){"timeout"==a&&(n.abort(),t.$Modal.warning({title:"友情提示",content:"请求超时"}))}})},formatDate:function(t){var e=t.getFullYear();if(t.getMonth()+1<10)var a="0"+(t.getMonth()+1);else a=t.getMonth()+1;if(t.getDate()<10)t.getDate();else t.getDate();t.getHours(),t.getMinutes(),t.getSeconds();return e+"-"+a},Testdetails:function(t){var e=this;e.modal11=!0;var a=e.$store.getters.getUrl+"chemicalexam/getAssayResult.do",s=this.prescription[t].test_no;e.isshowloading=!0;var i=$.ajax({type:"post",url:a,dataType:"json",timeout:15e3,data:{testno:s},success:function(t){e.isshowloading=!1,1==t.status&&(e.TestdeList=t.data)},error:function(t){e.isshowloading=!1},complete:function(t,a){"timeout"==a&&(i.abort(),e.$Modal.warning({title:"友情提示",content:"请求超时"}))}})}},created:function(){var t=this;setTimeout(function(){t.examineList();var e=t.$store.getters.getUrl+"SweepCode.do";Object(l.a)(e)},10)}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"MyExamine"},[a("div",{staticClass:"titlei"},[a("div",{staticClass:"title"},[t._v("\n        患者化验结果\n        "),a("div",{staticClass:"arrow-icon",on:{click:t.tobackdetail}},[a("Icon",{attrs:{size:"30",type:"ios-arrow-back"}})],1)]),t._v(" "),a("div",{staticClass:"xuanze",staticStyle:{position:"relative"}},[a("div",{staticStyle:{display:"inline-block",width:"100%"}},[a("span",{staticStyle:{color:"rgb(0, 187, 187)","font-size":"20px"},on:{click:t.qingkong}},[t._v("全部化验结果")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"30%",border:"0",position:"absolute",right:"5%",top:"7px"},attrs:{type:"month",placeholder:"选择月份",editable:!1,clearable:!0,size:"small"},on:{change:t.shaixuan},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1)])]),t._v(" "),a("div",{staticClass:"contenttt"},[t.prescription.length<=0?a("div",{staticClass:"fee-item",staticStyle:{"font-size":"20px","text-align":"center"}},[a("p",{staticStyle:{padding:"50px"}},[t._v("暂无数据")])]):t._e(),t._v(" "),void 0!==t.prescription&&t.prescription.length>0?a("div",{staticClass:"fee-item"},t._l(t.prescription,function(e,s){return a("div",{key:s},[a("div",{staticClass:"content"},[a("p",[a("span",[t._v("检查号")]),t._v(" "),a("span",[t._v(t._s(e.test_no))])]),t._v(" "),a("p",[a("span",[t._v("患者卡号")]),t._v(" "),a("span",[t._v(t._s(e.patient_id))])]),t._v(" "),a("p",[a("span",[t._v("就诊日期")]),t._v(" "),a("span",[t._v(t._s(t.formatDates(new Date(e.requested_date_time))))])]),t._v(" "),a("p",[a("span",[t._v("项目名称")]),t._v(" "),a("span",[t._v(t._s(e.item_name))])]),t._v(" "),a("p",[a("span",[t._v("项目明细")]),t._v(" "),a("span",{staticStyle:{color:"blue"},on:{click:function(e){return t.Testdetails(s)}}},[t._v("查看>")])]),t._v(" "),a("Modal",{attrs:{fullscreen:"",title:"化验明细"},model:{value:t.modal11,callback:function(e){t.modal11=e},expression:"modal11"}},[t.TestdeList.length<=0?a("div",[a("p",{staticStyle:{"text-align":"center","font-size":"18px"}},[t._v("暂无明细")])]):t._e(),t._v(" "),t._l(t.TestdeList,function(e,s){return a("div",{key:s,staticClass:"content"},[a("p",[a("span",[t._v("项目名称")]),t._v(" "),a("span",[t._v(t._s(e.report_item_name))])]),t._v(" "),a("p",[a("span",[t._v("项目序号")]),t._v(" "),a("span",[t._v(t._s(e.item_no))])]),t._v(" "),a("p",[a("span",[t._v("报告日期")]),t._v(" "),a("span",[t._v(t._s(t.formatDates(new Date(e.result_date_time))))])]),t._v(" "),a("p",[a("span",[t._v("化验结果")]),t._v(" "),a("span",[t._v(t._s(e.result))])]),t._v(" "),a("p",[a("span",[t._v("单位")]),t._v(" "),a("span",[t._v(t._s(e.units))])]),t._v(" "),a("p",[a("span",[t._v("参考值")]),t._v(" "),a("span",[t._v(t._s(e.print_context))])]),t._v(" "),a("p",[a("span",[t._v("异常")]),t._v(" "),a("span",[t._v(t._s(e.abnormal_indicator))])])])})],2)],1)])}),0):t._e()]),t._v(" "),a("Modal",{attrs:{title:"提示"},model:{value:t.erromodal,callback:function(e){t.erromodal=e},expression:"erromodal"}},[a("p",[t._v(t._s(t.errormsg))])]),t._v(" "),a("loading",{directives:[{name:"show",rawName:"v-show",value:t.isshowloading,expression:"isshowloading"}],staticClass:"loading"})],1)},staticRenderFns:[]};var d=a("VU/8")(u,v,!1,function(t){a("NrKf")},"data-v-3efa2b64",null);e.default=d.exports}});