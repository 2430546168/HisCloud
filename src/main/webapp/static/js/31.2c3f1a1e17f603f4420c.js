webpackJsonp([31],{"7Q3A":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("//Fk"),s=i.n(a),n=i("HywI"),o=i("T4ej"),v=i("uGJ5"),l=new Date,r=(l.getFullYear(),l.getMonth(),l.getDate(),{components:{pullRefresh:n.a,loading:o.a},data:function(){return{errormsg:"",erromodal:!1,caseList:[],value3:"0",cardno:[],model1:"",cityList:[],cardlist:[],value1:"",isshowloading:!1,size:10}},methods:{refresh:function(){var e=this;return new s.a(function(t,i){setTimeout(function(){e.examineList(),t()},2e3)})},tobackdetail:function(){this.$router.push("/doctorckeck")},changepanel:function(e){},datatrans:function(e){var t=new Date(e),i=t.getFullYear(),a=t.getMonth()+1,s=t.getDate(),n=t.getHours(),o=t.getMinutes();a<10&&(a="0"+a),s<10&&(s="0"+s),n<10&&(n="0"+n),o<10&&(o="0"+o);var v=i+"-"+a+"-"+s+"- "+n+":"+o;return"NaN-NaN-NaN- NaN:NaN"!==v?v:""},selectcard:function(e){this.examineList(e)},execs:function(e){return/\d{4}-\d{1,2}-\d{1,2}/g.exec(e)[0]},execsss:function(e){return/\d{4}-\d{1,2}/g.exec(e)[0]},datatime:function(e){var t=e,i=this.p(t.getFullYear()),a=this.p(t.getMonth()+1);this.p(t.getDate());return i+"-"+a},p:function(e){return e<10?"0"+e:e},qingkong:function(){""!=this.value1&&null!=this.value1&&(this.value1="",this.examineList())},shaixuan:function(){null==this.value1?(this.value1="",this.size=10):this.value1=this.datatime(this.value1),this.examineList()},examineList:function(){var e=this,t=e.$store.getters.getUrl+"medicalrecord/getmedicalrecord.do",i=JSON.parse(localStorage.getItem("yspatientinfo")).patientid,a=e.size,s=e.value1,n=$.ajax({url:t,type:"post",dataType:"json",timeout:15e3,data:{patientid:i,size:a,visitdate:s},success:function(t){e.isshowloading=!1,e.caseList=[],1==t.status?e.caseList=t.data:"0"!=t.status&&(e.errormsg="获取病历失败!",e.erromodal=!0)},error:function(t){e.isshowloading=!1,e.errormsg="请求发送失败!",e.erromodal=!0},complete:function(t,i){"timeout"==i&&(n.abort(),e.$Modal.warning({title:"友情提示",content:"请求超时"}))}})}},mounted:function(){var e=this;e.isshowloading=!0;var t=document.querySelector(".MyExamine"),i=t.offsetHeight;setInterval(function(){t.onscroll=function(){var a=t.scrollTop,s=t.scrollHeight;i+a-s>=-1&&(e.size+=5,e.examineList())}},1e3),e.examineList();var a=e.$store.getters.getUrl+"SweepCode.do";Object(v.a)(a)}}),d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"MyExamine"},[i("div",{staticClass:"titlei"},[i("div",{staticClass:"title",staticStyle:{background:"rgb(0, 187, 187)"}},[i("div",{staticClass:"arrow-icon",on:{click:e.tobackdetail}},[i("Icon",{attrs:{size:"30",type:"ios-arrow-back"}})],1),e._v("\n          患者病历\n        ")]),e._v(" "),i("div",{staticClass:"xuanze",staticStyle:{position:"relative"}},[i("div",{staticStyle:{display:"inline-block",width:"100%"}},[i("span",{staticStyle:{color:"rgb(0, 187, 187)","font-size":"20px"},on:{click:e.qingkong}},[e._v("全部病历")]),e._v(" "),i("el-date-picker",{staticStyle:{width:"30%",border:"0",position:"absolute",right:"5%",top:"7px"},attrs:{type:"month",placeholder:"选择月份",editable:!1,clearable:!0,size:"small"},on:{change:e.shaixuan},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1)])]),e._v(" "),i("div",{staticClass:"content"},[e.caseList.length<=0?i("div",{staticClass:"fee-item"},[i("div",{staticStyle:{"text-align":"center","font-size":"20px",margin:"50px"}},[e._v("暂无数据")])]):e._e(),e._v(" "),void 0!==e.caseList&&e.caseList.length>0?i("div",{staticClass:"fee-item"},e._l(e.caseList,function(t,a){return i("div",{key:a,staticClass:"pan",staticStyle:{"border-bottom":"1px solid #ccc"}},[i("div",{staticStyle:{"text-align":"center","font-size":"18px",color:"rgb(0, 187, 187)",padding:"10px"}},[i("span",[e._v("—— 病历"+e._s(e.caseList.length-a)+" ——")])]),e._v(" "),i("div",{attrs:{slot:"content fee-item"},slot:"content fee-item"},[void 0!==t.visitdate?i("p",[i("span",[e._v("就诊时间：")]),e._v(" "),i("span",[e._v(e._s(/\d{4}-\d{1,2}-\d{1,2}/g.exec(e.datatrans(t.visitdate))[0]))])]):e._e(),e._v(" "),void 0!==t.visitno?i("p",[i("span",[e._v("就诊序号：")]),e._v(" "),i("span",[e._v(e._s(t.visitno))])]):e._e(),e._v(" "),void 0!==t.patientid?i("p",[i("span",[e._v("患者卡号：")]),e._v(" "),i("span",[e._v(e._s(t.patientid))])]):e._e(),e._v(" "),void 0!==t.docName?i("p",[i("span",[e._v("医生姓名：")]),e._v(" "),i("span",[e._v(e._s(t.doctor))])]):e._e(),e._v(" "),void 0!==t.docName?i("p",[i("span",[e._v("医生编码：")]),e._v(" "),i("span",[e._v(e._s(t.doctorno))])]):e._e(),e._v(" "),void 0!==t.diagdesc?i("div",[i("p",[i("span",[e._v("诊断结果：")]),i("span",[e._v(e._s(t.diagdesc))])])]):e._e(),e._v(" "),void 0!==t.illnessdesc?i("div",[i("p",[i("span",[e._v("医生主诉：")]),i("span",[e._v(e._s(t.illnessdesc))])])]):e._e(),e._v(" "),void 0!==t.advice?i("div",[i("p",[i("span",[e._v("医生建议：")]),i("span",[e._v(e._s(t.advice))])])]):e._e(),e._v(" "),void 0!==t.memo?i("div",[i("p",[i("span",[e._v("医生备注：")]),i("span",[e._v(e._s(t.memo))])])]):e._e(),e._v(" "),void 0!==t.maternitl?i("div",[i("p",[i("span",[e._v("婚孕历史：")]),i("span",[e._v(e._s(t.maternitl))])])]):e._e(),e._v(" "),void 0!==t.menses?i("div",[i("p",[i("span",[e._v("月经历史：")]),i("span",[e._v(e._s(t.menses))])])]):e._e(),e._v(" "),void 0!==t.anamnesis?i("div",[i("p",[i("span",[e._v("既往病史：")]),i("span",[e._v(e._s(t.anamnesis))])])]):e._e(),e._v(" "),void 0!==t.individual?i("div",[i("p",[i("span",[e._v("个人病史：")]),i("span",[e._v(e._s(t.individual))])])]):e._e(),e._v(" "),void 0!==t.familyill?i("div",[i("p",[i("span",[e._v("家族病史：")]),i("span",[e._v(e._s(t.familyill))])])]):e._e(),e._v(" "),void 0!==t.medhistory?i("div",[i("p",[i("span",[e._v("现在病史：")]),i("span",[e._v(e._s(t.medhistory))])])]):e._e(),e._v(" "),void 0!==t.marrital&&t.marrital.length<12?i("div",[i("p",[i("span",[e._v("婚姻历史：")]),i("span",[e._v(e._s(t.marrital))])])]):e._e()])])}),0):e._e()]),e._v(" "),i("Modal",{attrs:{title:"提示"},model:{value:e.erromodal,callback:function(t){e.erromodal=t},expression:"erromodal"}},[i("p",[e._v(e._s(e.errormsg))])]),e._v(" "),i("loading",{directives:[{name:"show",rawName:"v-show",value:e.isshowloading,expression:"isshowloading"}],staticClass:"loading"})],1)},staticRenderFns:[]};var c=i("VU/8")(r,d,!1,function(e){i("JIht")},"data-v-9e3439b8",null);t.default=c.exports},JIht:function(e,t){}});