webpackJsonp([32],{Z40B:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("//Fk"),s=i.n(a),n=i("+n8h"),l=i("HywI"),o=i("T4ej"),v=i("uGJ5"),d=new Date,r=(d.getFullYear(),d.getMonth(),d.getDate(),{components:{tabbar:n.a,pullRefresh:l.a,loading:o.a},data:function(){return{caseList:[],value3:"0",cardno:[],model1:"",cityList:[],cardlist:[],value1:"",isshowloading:!1,size:10}},methods:{refresh:function(){var t=this;return new s.a(function(e,i){setTimeout(function(){t.examineList(),e()},2e3)})},datatrans:function(t){var e=new Date(t),i=e.getFullYear(),a=e.getMonth()+1,s=e.getDate(),n=e.getHours(),l=e.getMinutes();a<10&&(a="0"+a),s<10&&(s="0"+s),n<10&&(n="0"+n),l<10&&(l="0"+l);var o=i+"-"+a+"-"+s+"- "+n+":"+l;return"NaN-NaN-NaN NaN:NaN"!==o?o:""},datatime:function(t){var e=t,i=this.p(e.getFullYear()),a=this.p(e.getMonth()+1);this.p(e.getDate());return i+"-"+a},p:function(t){return t<10?"0"+t:t},qingkong:function(){""!=this.value1&&null!=this.value1&&(this.value1="",this.examineList())},shaixuan:function(){null==this.value1?(this.value1="",this.size=10):this.value1=this.datatime(this.value1),this.examineList()},examineList:function(){var t=this,e=t.$store.getters.getUrl+"medicalrecord/getmedicalrecord.do",i=localStorage.getItem("cardno"),a=t.size,s=t.value1,n=$.ajax({url:e,type:"post",dataType:"json",timeout:15e3,data:{patientid:i,size:a,visitdate:s},success:function(e){t.isshowloading=!1,t.caseList=[],1==e.status&&(t.caseList=e.data)},error:function(e,i){t.isshowloading=!1,"timeout"!=i&&t.$Message.error("请求失败")},complete:function(e,i){"timeout"==i&&(n.abort(),t.$Modal.warning({title:"友情提示",content:"请求超时"}))}})},tobackdetail:function(){this.$router.push("/Myaccount")}},mounted:function(){var t=this;t.isshowloading=!0;var e=document.querySelector(".MyExamine"),i=e.offsetHeight;setInterval(function(){e.onscroll=function(){var a=e.scrollTop,s=e.scrollHeight;i+a-s>=-1&&(t.size+=5,t.examineList())}},1e3),t.examineList();var a=t.$store.getters.getUrl+"SweepCode.do";Object(v.a)(a)}}),c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MyExamine"},[i("div",{staticClass:"titlei"},[i("div",{staticClass:"title"},[i("div",{staticClass:"arrow-icon",on:{click:t.tobackdetail}},[i("Icon",{attrs:{size:"30",type:"ios-arrow-back"}})],1),t._v("\n          我的病历\n        ")]),t._v(" "),i("div",{staticClass:"xuanze",staticStyle:{position:"relative"}},[i("div",{staticStyle:{display:"inline-block",width:"100%"}},[i("span",{staticStyle:{color:"rgb(40, 184, 161)","font-size":"20px"},on:{click:t.qingkong}},[t._v("全部病历")]),t._v(" "),i("el-date-picker",{staticStyle:{border:"0",position:"absolute",right:"5%",top:"7px",width:"30%"},attrs:{type:"month",placeholder:"选择月份",editable:!1,clearable:!0,size:"small"},on:{change:t.shaixuan},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1)])]),t._v(" "),i("div",{staticClass:"content"},[t.caseList.length<=0?i("div",{staticClass:"fee-item"},[i("div",{staticStyle:{"text-align":"center","font-size":"18px",padding:"20%"}},[t._v("暂无数据")])]):t._e(),t._v(" "),void 0!==t.caseList&&t.caseList.length>0?i("div",{staticClass:"fee-item"},t._l(t.caseList,function(e,a){return i("div",{key:a,staticClass:"pan",staticStyle:{"border-bottom":"1px solid #ccc"}},[i("div",{staticStyle:{"text-align":"center","font-size":"18px",color:"rgb(40, 184, 161)",padding:"10px"}},[i("span",[t._v("—— 病历"+t._s(t.caseList.length-a)+" ——")])]),t._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[void 0!==e.visitdate&&"null"!==e.visitdate?i("p",[i("span",[t._v("就诊时间：")]),t._v(" "),i("span",[t._v(t._s(/\d{4}-\d{1,2}-\d{1,2}/g.exec(t.datatrans(e.visitdate))[0]))])]):t._e(),t._v(" "),void 0!==e.visitno&&"null"!==e.visitno?i("p",[i("span",[t._v("就诊序号：")]),t._v(" "),i("span",[t._v(t._s(e.visitno))])]):t._e(),t._v(" "),void 0!==e.patientid&&"null"!==e.patientid?i("p",[i("span",[t._v("患者卡号：")]),t._v(" "),i("span",[t._v(t._s(e.patientid))])]):t._e(),t._v(" "),void 0!==e.doctor&&"null"!==e.doctor?i("p",[i("span",[t._v("医生姓名：")]),t._v(" "),i("span",[t._v(t._s(e.doctor))])]):t._e(),t._v(" "),void 0!==e.doctorno&&"null"!==e.doctorno?i("p",[i("span",[t._v("医生编码：")]),t._v(" "),i("span",[t._v(t._s(e.doctorno))])]):t._e(),t._v(" "),void 0!==e.diagdesc&&"null"!==e.diagdesc?i("div",[i("p",[i("span",[t._v("诊断结果：")]),i("span",[t._v(t._s(e.diagdesc))])])]):t._e(),t._v(" "),void 0!==e.illnessdesc&&"null"!==e.illnessdesc?i("div",[i("p",[i("span",[t._v("医生主诉：")]),i("span",[t._v(t._s(e.illnessdesc))])])]):t._e(),t._v(" "),void 0!==e.advice&&"null"!==e.advice?i("div",[i("p",[i("span",[t._v("医生建议：")]),i("span",[t._v(t._s(e.advice))])])]):t._e(),t._v(" "),void 0!==e.memo&&"null"!==e.memo?i("div",[i("p",[i("span",[t._v("医生备注：")]),i("span",[t._v(t._s(e.memo))])])]):t._e(),t._v(" "),void 0!==e.maternitl&&"null"!==e.maternitl?i("div",[i("p",[i("span",[t._v("婚孕历史：")]),i("span",[t._v(t._s(e.maternitl))])])]):t._e(),t._v(" "),void 0!==e.menses&&"null"!==e.menses?i("div",[i("p",[i("span",[t._v("月经历史：")]),i("span",[t._v(t._s(e.menses))])])]):t._e(),t._v(" "),void 0!==e.anamnesis&&"null"!==e.anamnesis?i("div",[i("p",[i("span",[t._v("既往病史：")]),i("span",[t._v(t._s(e.anamnesis))])])]):t._e(),t._v(" "),void 0!==e.individual&&"null"!==e.individual?i("div",[i("p",[i("span",[t._v("个人病史：")]),i("span",[t._v(t._s(e.individual))])])]):t._e(),t._v(" "),void 0!==e.familyill&&"null"!==e.familyill?i("div",[i("p",[i("span",[t._v("家族病史：")]),i("span",[t._v(t._s(e.familyill))])])]):t._e(),t._v(" "),void 0!==e.medhistory&&"null"!==e.medhistory?i("div",[i("p",[i("span",[t._v("现在病史：")]),i("span",[t._v(t._s(e.medhistory))])])]):t._e(),t._v(" "),void 0!==e.marrital&&"null"!==e.marrital?i("div",[i("p",[i("span",[t._v("婚姻历史：")]),i("span",[t._v(t._s(e.marrital))])])]):t._e()])])}),0):t._e()]),t._v(" "),i("tabbar",{staticClass:"tabbar"}),t._v(" "),i("loading",{directives:[{name:"show",rawName:"v-show",value:t.isshowloading,expression:"isshowloading"}],staticClass:"loading"})],1)},staticRenderFns:[]};var _=i("VU/8")(r,c,!1,function(t){i("mY48")},"data-v-8ffe3082",null);e.default=_.exports},mY48:function(t,e){}});