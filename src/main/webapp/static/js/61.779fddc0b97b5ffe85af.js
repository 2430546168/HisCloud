webpackJsonp([61],{"8uzg":function(e,t){},cMeb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("mvHQ"),a=i.n(o),n={components:{loading:i("T4ej").a},data:function(){return{docinforItem:[],disabled:!1,biao:"修改科室",formInline:{user:"",tel:"",id:"",msg:"",dep:"",identity:"",jurisdiction:[]},cityList4:[{value:"0",label:"复诊"},{value:"1",label:"咨询"},{value:"2",label:"出诊"}],cityList5:[{value:"0",label:"超级管理员"},{value:"1",label:"副院长"},{value:"2",label:"科主任"},{value:"3",label:"副主任"},{value:"4",label:"普通医生"},{value:"5",label:"无权限"}],depList:[],isshowloading:!1}},methods:{_dealdata:function(e){for(var t=[],i=[],o=[],a=[],n=0;n<e.length;n++)"100101"==e[n].deptCode.substring(0,6)?t.push(e[n]):"100102"==e[n].deptCode.substring(0,6)?i.push(e[n]):"100103"==e[n].deptCode.substring(0,6)?o.push(e[n]):a.push(e[n]);var l=[];l.push({deptName:"妇科门诊",gynaecology:t,deptCode:"100101"}),l.push({deptName:"产科门诊",obstetrics:i,deptCode:"100102"}),l.push({deptName:"儿科门诊",pediatrics:o,deptCode:"100103"});for(var s=0;s<a.length;s++)"皮肤科"==a[s].deptName&&l.push({deptName:"皮肤科",deptCode:a[s].deptCode});for(var r=0;r<a.length;r++){var d,c;if(d=a[r].deptName,c=a[r].deptCode,"皮肤科"!=d){var u={deptName:d,deptCode:c};l.push(u)}}for(n=0;n<l.length;n++){var m={label:l[n].deptName,value:l[n].deptCode};this.depList.push(m)}},DeptInfoList:function(){var e=this,t=e.$store.getters.getUrl+"admin/dept/getDeptInfoList.do";e.isshowloading=!0,$.ajax({url:t,type:"post",dataType:"json",timeout:15e3,data:"",success:function(t){e.isshowloading=!1,"200"==t.code&&e._dealdata(t.data)},error:function(t){e.isshowloading=!1}})},handleCreate2:function(e){this.cityList4.push({value:e,label:e})},tobackdetail:function(){0==this.$route.query.start?this.$router.push("/doctormanagement"):1==this.$route.query.start&&this.$router.push("/admin")},changejurisdiction:function(e){},Submiter:function(){var e=this,t=e.docinforItem.userName,i=e.docinforItem.deptCode,o=e.formInline.msg,n=e.formInline.identity,l=a()(e.formInline.jurisdiction),s=e.$store.getters.getUrl+"admin/doctor/editDoctorInfoByUserName.do";e.isshowloading=!0,$.ajax({url:s,type:"post",dataType:"json",timeout:15e3,data:{userName:t,deptCode:i,expertJob:o,adminLevel:n,doctorRole:l},success:function(t){e.isshowloading=!1,"200"==t.code&&e._dealdata(t.data)},error:function(t){e.isshowloading=!1}})}},created:function(){if(void 0!=localStorage.getItem("Administrator")&&""!=localStorage.getItem("Administrator")&&(this.Administrator=JSON.parse(localStorage.getItem("Administrator")),this.Administrator.adminLevel>1&&(this.disabled=!0)),0==this.$route.query.start){this.biao="修改医生",this.docinforItem=JSON.parse(localStorage.getItem("docinforItem"));var e=this.docinforItem;void 0!=e.name?this.formInline.user=e.name:this.formInline.user="",void 0!=e.phoneNo?this.formInline.tel=e.phoneNo:this.formInline.tel="",void 0!=e.cardNo?this.formInline.id=e.cardNo:this.formInline.id="",void 0!=e.expertJob?this.formInline.msg=e.expertJob:this.formInline.msg="",void 0!=e.deptCode?this.formInline.dep=e.deptCode:this.formInline.dep="",void 0!=e.doctorRole?this.formInline.jurisdiction=JSON.parse(e.doctorRole):this.formInline.jurisdiction="",void 0!=e.adminLevel?this.formInline.identity=e.adminLevel:this.formInline.identity=""}else 1==this.$route.query.start&&(this.biao="添加医生");this.DeptInfoList()}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{height:"100%",overflow:"auto"}},[i("div",{staticClass:"titlei"},[i("div",{staticClass:"title",staticStyle:{position:"relative"}},[i("div",{staticClass:"arrow-icon",on:{click:e.tobackdetail}},[i("Icon",{attrs:{size:"30",type:"ios-arrow-back"}})],1),e._v("\n        "+e._s(e.biao)+"\n      ")])]),e._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"input"},[i("Form",{ref:"formInline",attrs:{model:e.formInline,"label-width":80}},[i("FormItem",{attrs:{label:"姓名："}},[i("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"",disabled:!0},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}})],1),e._v(" "),i("FormItem",{attrs:{label:"电话："}},[i("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"",disabled:!0},model:{value:e.formInline.tel,callback:function(t){e.$set(e.formInline,"tel",t)},expression:"formInline.tel"}})],1),e._v(" "),i("FormItem",{attrs:{label:"身份证："}},[i("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"",disabled:!0},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),e._v(" "),i("FormItem",{attrs:{label:"科室："}},[i("Select",{staticStyle:{width:"200px"},attrs:{disabled:!0},model:{value:e.formInline.dep,callback:function(t){e.$set(e.formInline,"dep",t)},expression:"formInline.dep"}},e._l(e.depList,function(t){return i("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),e._v(" "),i("FormItem",{attrs:{label:"权限："}},[i("Select",{staticStyle:{width:"200px"},attrs:{filterable:"",multiple:"","allow-create":""},on:{"on-create":e.handleCreate2,"on-change":e.changejurisdiction},model:{value:e.formInline.jurisdiction,callback:function(t){e.$set(e.formInline,"jurisdiction",t)},expression:"formInline.jurisdiction"}},e._l(e.cityList4,function(t){return i("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),e._v(" "),i("FormItem",{attrs:{label:"身份："}},[i("Select",{staticStyle:{width:"200px"},attrs:{disabled:e.disabled},model:{value:e.formInline.identity,callback:function(t){e.$set(e.formInline,"identity",t)},expression:"formInline.identity"}},e._l(e.cityList5,function(t){return i("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),e._v(" "),i("FormItem",{attrs:{label:"医生描述："}},[i("Input",{staticStyle:{width:"200px"},attrs:{type:"textarea",placeholder:""},model:{value:e.formInline.msg,callback:function(t){e.$set(e.formInline,"msg",t)},expression:"formInline.msg"}})],1),e._v(" "),i("FormItem",[i("Button",{staticStyle:{width:"200px"},attrs:{type:"primary",long:""},on:{click:e.Submiter}},[e._v("提交")])],1)],1)],1)]),e._v(" "),i("loading",{directives:[{name:"show",rawName:"v-show",value:e.isshowloading,expression:"isshowloading"}],staticClass:"loading"})],1)},staticRenderFns:[]};var s=i("VU/8")(n,l,!1,function(e){i("8uzg")},"data-v-41ed3342",null);t.default=s.exports}});