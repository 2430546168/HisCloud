webpackJsonp([58],{YhEK:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Xxa5"),o=s.n(i),a=s("exGp"),n=s.n(a),c=s("3e82"),r=s("uGJ5"),l={name:"doctorvisit",data:function(){return{visitlist:[],isShowLoading:!1,infomodel:!1,infomsg:"",statemodel:!1,currentitem:{}}},components:{loading:s("T4ej").a},methods:{tobackdetail:function(){this.$router.push("/Personalcenter")},fetchyscode:function(){var t=this.$store.getters.getUrl+"doctorvisit/OutVisit.do",e=localStorage.getItem("ysdoccode"),s=Object(c.b)(t,e,this);"1"==s.status?this.visitlist=s.data:"0"==s.status||(this.infomodel=!0,this.infomsg="获取医生出诊状态异常！")},ischangestate:function(t){this.currentitem=t,this.statemodel=!0},changestate:function(){var t=this;return n()(o.a.mark(function e(){var s,i,a,n,r,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.currentitem,i=t,a=s.cliniclabel,n=void 0,n="1"==s.visitstatus?0:1,r=i.$store.getters.getUrl+"doctorvisit/NoVisit.do",e.next=8,Object(c.a)(r,a,n,i);case 8:"1"==(l=e.sent).status?i.fetchyscode():"-1"==l.status&&(i.infomodel=!0,i.infomsg="修改状态失败！");case 10:case"end":return e.stop()}},e,t)}))()}},created:function(){var t=this;setTimeout(function(){t.fetchyscode();var e=t.$store.getters.getUrl+"SweepCode.do";Object(r.a)(e)},10)}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{height:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"}},[s("div",{staticClass:"tittle",staticStyle:{background:"rgb(0, 187, 187)",color:"white"}},[s("div",{staticClass:"arrow-icon",on:{click:t.tobackdetail}},[s("Icon",{attrs:{size:"30",type:"ios-arrow-back"}})],1),t._v("\n         医生出诊\n    ")]),t._v(" "),t.visitlist.length>0?s("div",{staticClass:"list-content"},t._l(t.visitlist,function(e,i){return s("div",{key:i,staticClass:"item-box"},[s("div",{staticClass:"text-content"},[t._v(t._s(e.cliniclabel))]),t._v(" "),s("div",{staticClass:"switchopen",class:{activeswitchopen:"0"==e.visitstatus},attrs:{size:"large"},on:{click:function(s){return t.ischangestate(e)}}},[t._v("\n                "+t._s("1"==e.visitstatus?"出诊":"未出诊")+"\n                "),s("div",{staticClass:"circle",class:{activecircle:"0"==e.visitstatus}})])])}),0):t._e(),t._v(" "),s("Modal",{attrs:{title:"提示"},model:{value:t.infomodel,callback:function(e){t.infomodel=e},expression:"infomodel"}},[s("p",[t._v(t._s(t.infomsg))])]),t._v(" "),s("Modal",{attrs:{title:"挂号提示信息"},on:{"on-ok":t.changestate},model:{value:t.statemodel,callback:function(e){t.statemodel=e},expression:"statemodel"}},[s("p",[t._v("请确认是否修改！")])]),t._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:t.isShowLoading,expression:"isShowLoading"}]})],1)},staticRenderFns:[]};var u=s("VU/8")(l,d,!1,function(t){s("aacd")},"data-v-4716c5c8",null);e.default=u.exports},aacd:function(t,e){}});